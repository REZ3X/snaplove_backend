<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snaplove Backend API Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 50px;
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .header h1 {
            font-size: 3rem;
            color: #667eea;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 20px;
        }

        .status-badge {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 25px;
            font-weight: 600;
            font-size: 0.9rem;
            margin: 5px;
        }

        .status-healthy {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status-loading {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .nav-tabs {
            display: flex;
            justify-content: center;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 10px;
            margin-bottom: 30px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .nav-tab {
            background: none;
            border: none;
            padding: 12px 24px;
            margin: 0 5px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            color: #666;
        }

        .nav-tab.active {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .nav-tab:hover:not(.active) {
            background: #f8f9fa;
            transform: translateY(-1px);
        }

        .content-section {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            margin-bottom: 30px;
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .endpoint-group {
            margin-bottom: 40px;
        }

        .endpoint-group h3 {
            color: #667eea;
            font-size: 1.5rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }

        .endpoint {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
            transition: all 0.3s ease;
        }

        .endpoint:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .endpoint-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .method {
            padding: 6px 12px;
            border-radius: 6px;
            font-weight: 700;
            font-size: 0.8rem;
            margin-right: 15px;
            min-width: 60px;
            text-align: center;
        }

        .method.get { background: #d4edda; color: #155724; }
        .method.post { background: #cce7ff; color: #004085; }
        .method.put { background: #fff3cd; color: #856404; }
        .method.delete { background: #f8d7da; color: #721c24; }

        .endpoint-path {
            font-family: 'Courier New', monospace;
            background: #e9ecef;
            padding: 8px 12px;
            border-radius: 6px;
            flex-grow: 1;
            font-weight: 600;
        }

        .endpoint-description {
            color: #666;
            margin-bottom: 10px;
        }

        .auth-required {
            display: inline-block;
            background: #17a2b8;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: 600;
            margin-left: 10px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .stat-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border-left: 4px solid #667eea;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #666;
            font-weight: 600;
        }

        .example-code {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            margin: 15px 0;
        }

        .footer {
            text-align: center;
            padding: 40px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            margin-top: 50px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }

        .footer p {
            color: #666;
            margin-bottom: 10px;
        }

        .version {
            background: #667eea;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            display: inline-block;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .nav-tabs {
                flex-wrap: wrap;
            }
            
            .endpoint-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .method {
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš€ Snaplove Backend API</h1>
            <p>Comprehensive RESTful API for frame-based photo sharing platform</p>
            <div>
                <span class="status-badge status-loading" id="status-badge">Checking Status...</span>
                <span class="version" id="version">Loading...</span>
            </div>
        </div>

<div class="nav-tabs">
    <button class="nav-tab active" onclick="showSection('overview')">ğŸ“Š Overview</button>
    <button class="nav-tab" onclick="showSection('auth')">ğŸ” Authentication</button>
    <button class="nav-tab" onclick="showSection('frames')">ğŸ–¼ï¸ Frames</button>
    <button class="nav-tab" onclick="showSection('photos')">ğŸ“¸ Photos</button>
    <button class="nav-tab" onclick="showSection('users')">ğŸ‘¥ Users</button>
    <button class="nav-tab" onclick="showSection('reports')">ğŸ“‹ Reports & Tickets</button>
    <button class="nav-tab" onclick="showSection('admin')">âš™ï¸ Admin</button>
    <button class="nav-tab" onclick="showSection('examples')">ğŸ’» Examples</button>
</div>

        <div class="content-section active" id="overview">
            <h2>ğŸ“Š API Overview</h2>
            <p>Welcome to the Snaplove Backend API documentation. This API powers a frame-based photo sharing platform where users can create frames, capture photos using those frames, and manage their content.</p>
            
            <div class="stats-grid" id="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="stat-users">-</div>
                    <div class="stat-label">Active Users</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="stat-frames">-</div>
                    <div class="stat-label">Public Frames</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="stat-photos">-</div>
                    <div class="stat-label">Total Photos</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="stat-uptime">-</div>
                    <div class="stat-label">Uptime</div>
                </div>
            </div>

            <h3>ğŸ”§ Key Features</h3>
            <ul style="margin: 20px 0; padding-left: 20px;">
                <li><strong>Frame Management:</strong> Create, edit, and manage frames with approval system</li>
                <li><strong>Photo Capture:</strong> Take photos using frames with role-based TTL</li>
                <li><strong>User System:</strong> Role-based permissions and content moderation</li>
                <li><strong>Admin Tools:</strong> Comprehensive administration and reporting</li>
                <li><strong>Real-time Stats:</strong> Live performance and usage metrics</li>
            </ul>

            <h3>ğŸŒ Base URL</h3>
            <div class="example-code">
Production: https://snaploveapi.slaviors.xyz
Development: http://localhost:4000
            </div>
        </div>

        <div class="content-section" id="auth">
            <div class="endpoint-group">
                <h3>ğŸ” Authentication</h3>
                
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <span class="endpoint-path">/api/auth/register</span>
                    </div>
                    <div class="endpoint-description">Register a new user with Google OAuth</div>
                    <div class="example-code">{
  "google_id": "string",
  "email": "user@gmail.com",
  "name": "User Name",
  "image_profile": "https://profile-url.jpg"
}</div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <span class="endpoint-path">/api/auth/login</span>
                    </div>
                    <div class="endpoint-description">Login with Google OAuth credentials</div>
                    <div class="example-code">{
  "google_id": "string",
  "email": "user@gmail.com"
}</div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-path">/api/auth/me</span>
                        <span class="auth-required">ğŸ”’ AUTH</span>
                    </div>
                    <div class="endpoint-description">Get current user information</div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <span class="endpoint-path">/api/auth/logout</span>
                        <span class="auth-required">ğŸ”’ AUTH</span>
                    </div>
                    <div class="endpoint-description">Logout current user</div>
                </div>
            </div>
        </div>

        <div class="content-section" id="frames">
    <div class="endpoint-group">
        <h3>ğŸ–¼ï¸ Frame Management</h3>
        
        <h4>ğŸŒ Public Frame Endpoints</h4>
        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/api/frame/public</span>
            </div>
            <div class="endpoint-description">Get public approved frames with pagination and filters</div>
            <div class="example-code">Query Parameters:
?page=1&limit=20&layout_type=2x1&tag=nature&sort=newest</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-path">/api/frame/public</span>
                <span class="auth-required">ğŸ”’ AUTH</span>
            </div>
            <div class="endpoint-description">Create new frame (thumbnail required for public visibility)</div>
            <div class="example-code">FormData:
- images: File[] (max 10)
- thumbnail: File (required for public)
- title: string
- desc: string (optional)
- layout_type: "2x1" | "3x1" | "4x1"
- visibility: "private" | "public"
- tag_label: string (comma-separated)</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/api/frame/public/{id}</span>
            </div>
            <div class="endpoint-description">Get specific frame by ID (accessible via direct URL even if shadow banned)</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-path">/api/frame/public/{id}/like</span>
                <span class="auth-required">ğŸ”’ AUTH</span>
            </div>
            <div class="endpoint-description">Like/unlike a frame (toggle action)</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method delete">DELETE</span>
                <span class="endpoint-path">/api/frame/public/{id}/admin/delete</span>
                <span class="auth-required">ğŸ”’ ADMIN</span>
            </div>
            <div class="endpoint-description">Admin delete any public frame</div>
        </div>

        <h4>ğŸ‘¤ User Frame Management</h4>
        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/api/user/{username}/frame</span>
                <span class="auth-required">ğŸ”’ AUTH</span>
            </div>
            <div class="endpoint-description">Get all user's frames (private + public) - own frames only</div>
            <div class="example-code">Query Parameters:
?page=1&limit=20&visibility=all|private|public</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/api/user/{username}/frame/private</span>
                <span class="auth-required">ğŸ”’ AUTH</span>
            </div>
            <div class="endpoint-description">Get user's private frames only</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/api/user/{username}/frame/private/{id}</span>
                <span class="auth-required">ğŸ”’ AUTH</span>
            </div>
            <div class="endpoint-description">Get specific private frame details</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/api/user/{username}/frame/public</span>
            </div>
            <div class="endpoint-description">Get user's public frames (visible to everyone)</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method put">PUT</span>
                <span class="endpoint-path">/api/user/{username}/frame/private/{id}/edit</span>
                <span class="auth-required">ğŸ”’ AUTH</span>
            </div>
            <div class="endpoint-description">Edit frame (can change visibility from private to public with thumbnail)</div>
            <div class="example-code">FormData:
- title: string (optional)
- desc: string (optional)
- layout_type: string (optional)
- visibility: "private" | "public" (optional)
- tag_label: string[] (optional)
- thumbnail: File (required when changing to public)</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method delete">DELETE</span>
                <span class="endpoint-path">/api/user/{username}/frame/private/{id}/delete</span>
                <span class="auth-required">ğŸ”’ AUTH</span>
            </div>
            <div class="endpoint-description">Delete user's own frame</div>
        </div>

        <h4>ğŸ“Š Frame Approval System</h4>
        <div class="example-code">Frame Visibility Logic:
- Private: Always visible to owner, no approval needed
- Public: Requires approval to appear in public feed
- Shadow Banned: Public but not in feed (accessible via direct URL)
- Auto-Approval: Official/Developer roles</div>
    </div>
</div>

        <div class="content-section" id="photos">
    <div class="endpoint-group">
        <h3>ğŸ“¸ Photo Management</h3>
        
        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-path">/api/user/{username}/photo/capture</span>
                <span class="auth-required">ğŸ”’ AUTH</span>
            </div>
            <div class="endpoint-description">Capture photo using a frame (private only, with TTL based on user role)</div>
            <div class="example-code">FormData:
- images: File[]
- frame_id: string
- title: string
- desc: string (optional)</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/api/user/{username}/photo/private</span>
                <span class="auth-required">ğŸ”’ AUTH</span>
            </div>
            <div class="endpoint-description">Get user's private photos (own photos only)</div>
            <div class="example-code">Query Parameters:
?page=1&limit=20</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/api/user/{username}/photo/private/{id}</span>
                <span class="auth-required">ğŸ”’ AUTH</span>
            </div>
            <div class="endpoint-description">Get specific photo details with frame information</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method put">PUT</span>
                <span class="endpoint-path">/api/user/{username}/photo/private/{id}/edit</span>
                <span class="auth-required">ğŸ”’ AUTH</span>
            </div>
            <div class="endpoint-description">Edit photo title and description</div>
            <div class="example-code">{
  "title": "Updated Photo Title",
  "desc": "Updated description"
}</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method delete">DELETE</span>
                <span class="endpoint-path">/api/user/{username}/photo/private/{id}/delete</span>
                <span class="auth-required">ğŸ”’ AUTH</span>
            </div>
            <div class="endpoint-description">Delete user's photo permanently</div>
        </div>

        <h4>ğŸ“… Photo TTL by Role:</h4>
        <div class="example-code">Basic: 3 days
Verified: 7 days
Verified Premium/Official/Developer: Unlimited</div>
    </div>
</div>

<!-- Add new sections for Reports and Tickets -->
<div class="content-section" id="reports">
    <div class="endpoint-group">
        <h3>ğŸ“‹ Reports & Tickets</h3>
        
        <h4>ğŸ“ User Reports</h4>
        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/api/user/{username}/report/private</span>
                <span class="auth-required">ğŸ”’ AUTH</span>
            </div>
            <div class="endpoint-description">Get user's submitted reports</div>
            <div class="example-code">Query Parameters:
?page=1&limit=20&status=pending</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-path">/api/user/{username}/report/private</span>
                <span class="auth-required">ğŸ”’ AUTH</span>
            </div>
            <div class="endpoint-description">Submit content report</div>
            <div class="example-code">{
  "title": "Inappropriate Content",
  "description": "Detailed description of the issue",
  "frame_id": "frame_id_to_report"
}</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/api/user/{username}/report/private/{id}</span>
                <span class="auth-required">ğŸ”’ AUTH</span>
            </div>
            <div class="endpoint-description">Get specific report details and admin response</div>
        </div>

        <h4>ğŸ« Support Tickets</h4>
        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/api/user/{username}/ticket/private</span>
                <span class="auth-required">ğŸ”’ AUTH</span>
            </div>
            <div class="endpoint-description">Get user's support tickets</div>
            <div class="example-code">Query Parameters:
?page=1&limit=20&type=suggestion&status=pending</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-path">/api/user/{username}/ticket/private</span>
                <span class="auth-required">ğŸ”’ AUTH</span>
            </div>
            <div class="endpoint-description">Create support ticket with attachments</div>
            <div class="example-code">FormData:
- title: string
- description: string
- type: "suggestion" | "critics" | "other"
- images: File[] (optional)</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/api/user/{username}/ticket/private/{id}</span>
                <span class="auth-required">ğŸ”’ AUTH</span>
            </div>
            <div class="endpoint-description">Get specific ticket details and admin response</div>
        </div>
    </div>
</div>

        <div class="content-section" id="users">
            <div class="endpoint-group">
                <h3>ğŸ‘¥ User Management</h3>
                
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-path">/api/user/{username}</span>
                    </div>
                    <div class="endpoint-description">Get user profile (public information)</div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method put">PUT</span>
                        <span class="endpoint-path">/api/user/{username}/edit</span>
                        <span class="auth-required">ğŸ”’ AUTH</span>
                    </div>
                    <div class="endpoint-description">Edit user profile (own profile only)</div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-path">/api/user/{username}/stats</span>
                        <span class="auth-required">ğŸ”’ AUTH</span>
                    </div>
                    <div class="endpoint-description">Get user statistics (likes, uses, frame performance)</div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-path">/api/user/{username}/liked/private</span>
                        <span class="auth-required">ğŸ”’ AUTH</span>
                    </div>
                    <div class="endpoint-description">Get frames liked by user (private access only)</div>
                </div>

                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method get">GET</span>
                        <span class="endpoint-path">/api/user/{username}/liked/private/check/{frameId}</span>
                        <span class="auth-required">ğŸ”’ AUTH</span>
                    </div>
                    <div class="endpoint-description">Check if user liked specific frame</div>
                </div>

                <h4>ğŸ‘¤ User Roles & Limits:</h4>
                <div class="example-code">Basic: 3 public frames, 3-day photo TTL
Verified: 20 public frames, 7-day photo TTL
Verified Premium: Unlimited frames & photos
Official/Developer: Unlimited + auto-approval</div>
            </div>
        </div>

       <div class="content-section" id="admin">
    <div class="endpoint-group">
        <h3>âš™ï¸ Admin Management</h3>
        
        <h4>ğŸ–¼ï¸ Frame Approval</h4>
        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/api/admin/framePublicApproval</span>
                <span class="auth-required">ğŸ”’ ADMIN</span>
            </div>
            <div class="endpoint-description">Get frames pending approval with filters</div>
            <div class="example-code">Query Parameters:
?status=pending&page=1&limit=20&sort=newest&search=term</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/api/admin/framePublicApproval/{id}</span>
                <span class="auth-required">ğŸ”’ ADMIN</span>
            </div>
            <div class="endpoint-description">Get specific frame for detailed review</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method put">PUT</span>
                <span class="endpoint-path">/api/admin/framePublicApproval/{id}</span>
                <span class="auth-required">ğŸ”’ ADMIN</span>
            </div>
            <div class="endpoint-description">Approve or reject frame</div>
            <div class="example-code">{
  "approval_status": "approved|rejected",
  "rejection_reason": "string (required for rejected)"
}</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method post">POST</span>
                <span class="endpoint-path">/api/admin/framePublicApproval/bulk</span>
                <span class="auth-required">ğŸ”’ ADMIN</span>
            </div>
            <div class="endpoint-description">Bulk approve/reject multiple frames</div>
            <div class="example-code">{
  "frame_ids": ["id1", "id2", "id3"],
  "approval_status": "approved|rejected",
  "rejection_reason": "string (for rejected)"
}</div>
        </div>

        <h4>ğŸ‘¥ User Management</h4>
        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/api/admin/users</span>
                <span class="auth-required">ğŸ”’ ADMIN</span>
            </div>
            <div class="endpoint-description">Get all users with filters and search</div>
            <div class="example-code">Query Parameters:
?page=1&limit=20&role=basic&ban_status=false&search=username&sort=newest</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/api/admin/users/{username}</span>
                <span class="auth-required">ğŸ”’ ADMIN</span>
            </div>
            <div class="endpoint-description">Get detailed user information and statistics</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method put">PUT</span>
                <span class="endpoint-path">/api/admin/users/{username}/update</span>
                <span class="auth-required">ğŸ”’ ADMIN</span>
            </div>
            <div class="endpoint-description">Update user role, ban status, or profile</div>
            <div class="example-code">{
  "role": "basic|verified_basic|verified_premium|official|developer",
  "ban_status": boolean,
  "ban_release_datetime": "ISO date",
  "bio": "string",
  "name": "string"
}</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method delete">DELETE</span>
                <span class="endpoint-path">/api/admin/users/{username}/delete</span>
                <span class="auth-required">ğŸ”’ ADMIN</span>
            </div>
            <div class="endpoint-description">Permanently delete user and all their content</div>
            <div class="example-code">{
  "reason": "Detailed reason for deletion"
}</div>
        </div>

        <h4>ğŸ“‹ Reports & Tickets</h4>
        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/api/admin/reports</span>
                <span class="auth-required">ğŸ”’ ADMIN</span>
            </div>
            <div class="endpoint-description">Get content reports with filters</div>
            <div class="example-code">Query Parameters:
?status=pending&page=1&limit=20&search=term&sort=newest</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/api/admin/reports/{id}</span>
                <span class="auth-required">ğŸ”’ ADMIN</span>
            </div>
            <div class="endpoint-description">Get detailed report information</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method put">PUT</span>
                <span class="endpoint-path">/api/admin/reports/{id}</span>
                <span class="auth-required">ğŸ”’ ADMIN</span>
            </div>
            <div class="endpoint-description">Update report status and take action</div>
            <div class="example-code">{
  "report_status": "pending|done|rejected",
  "admin_response": "Admin response message",
  "action": "delete_frame|no_action"
}</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/api/admin/ticket</span>
                <span class="auth-required">ğŸ”’ ADMIN</span>
            </div>
            <div class="endpoint-description">Get support tickets with priority filtering</div>
            <div class="example-code">Query Parameters:
?status=pending&priority=high&type=suggestion&page=1&limit=20&sort=priority_high</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/api/admin/ticket/{id}</span>
                <span class="auth-required">ğŸ”’ ADMIN</span>
            </div>
            <div class="endpoint-description">Get detailed ticket information</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method put">PUT</span>
                <span class="endpoint-path">/api/admin/ticket/{id}</span>
                <span class="auth-required">ğŸ”’ ADMIN</span>
            </div>
            <div class="endpoint-description">Update ticket status and priority</div>
            <div class="example-code">{
  "status": "pending|in_progress|resolved|closed",
  "priority": "low|medium|high|urgent",
  "admin_response": "Admin response message"
}</div>
        </div>

        <div class="endpoint">
            <div class="endpoint-header">
                <span class="method get">GET</span>
                <span class="endpoint-path">/api/admin/serverHealth</span>
                <span class="auth-required">ğŸ”’ ADMIN</span>
            </div>
            <div class="endpoint-description">Comprehensive server health and statistics</div>
        </div>

        <h4>ğŸ” Admin Access Levels:</h4>
        <div class="example-code">Official: Full admin access
Developer: Full admin + system access</div>
    </div>
</div>

        <div class="content-section" id="examples">
            <div class="endpoint-group">
                <h3>ğŸ’» Code Examples</h3>
                
                <h4>ğŸ” Authentication</h4>
                <div class="example-code">// Login Request
fetch('/api/auth/login', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    google_id: 'user_google_id',
    email: 'user@gmail.com'
  })
})
.then(response => response.json())
.then(data => {
  if (data.success) {
    localStorage.setItem('token', data.data.token);
  }
});</div>

                <h4>ğŸ–¼ï¸ Creating a Frame</h4>
                <div class="example-code">// Create Frame with Images and Thumbnail
const formData = new FormData();
formData.append('title', 'My Beautiful Frame');
formData.append('desc', 'A frame for nature photos');
formData.append('layout_type', '2x1');
formData.append('visibility', 'public');
formData.append('tag_label', 'nature,landscape');

// Add frame images
frameImages.forEach(file => {
  formData.append('images', file);
});

// Add thumbnail (required for public frames)
formData.append('thumbnail', thumbnailFile);

fetch('/api/frame/public', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${token}`
  },
  body: formData
});</div>

                <h4>ğŸ“¸ Capturing a Photo</h4>
                <div class="example-code">// Capture Photo using Frame
const photoData = new FormData();
photoData.append('frame_id', 'frame_id_here');
photoData.append('title', 'My Photo with Frame');
photoData.append('desc', 'Beautiful sunset photo');

photoFiles.forEach(file => {
  photoData.append('images', file);
});

fetch(`/api/user/${username}/photo/capture`, {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${token}`
  },
  body: photoData
});</div>

                <h4>ğŸ“Š Getting User Stats</h4>
                <div class="example-code">// Get User Statistics
fetch(`/api/user/${username}/stats`, {
  headers: {
    'Authorization': `Bearer ${token}`
  }
})
.then(response => response.json())
.then(data => {
  console.log('Total likes:', data.data.public_frames.total_likes_received);
  console.log('Total uses:', data.data.public_frames.total_uses_received);
  console.log('Frame performance:', data.data.top_frames);
});</div>

                <h4>ğŸ’– Like a Frame</h4>
                <div class="example-code">// Like/Unlike Frame (Toggle)
fetch(`/api/frame/public/${frameId}/like`, {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${token}`
  }
})
.then(response => response.json())
.then(data => {
  console.log('Is liked:', data.data.is_liked);
  console.log('Total likes:', data.data.total_likes);
});</div>

                <h4>ğŸ”§ Error Handling</h4>
                <div class="example-code">// Standard Error Response Format
{
  "success": false,
  "message": "Error description",
  "errors": [
    {
      "field": "field_name",
      "message": "Validation error message"
    }
  ]
}

// Standard Success Response Format
{
  "success": true,
  "message": "Operation successful",
  "data": {
    // Response data
  }
}</div>
            </div>
        </div>

        <div class="footer">
            <p>Built with â¤ï¸ for developers</p>
            <p id="footer-info">Server information loading...</p>
        </div>
    </div>

    <script>
        function showSection(sectionId) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });

            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(sectionId).classList.add('active');
            
            event.target.classList.add('active');
        }

        async function loadServerHealth() {
            try {
                const response = await fetch('/health');
                const data = await response.json();
                
                if (data.success) {
                    const statusBadge = document.getElementById('status-badge');
                    statusBadge.textContent = `Status: ${data.status.charAt(0).toUpperCase() + data.status.slice(1)}`;
                    statusBadge.className = `status-badge ${data.status === 'healthy' ? 'status-healthy' : 'status-loading'}`;

                    document.getElementById('version').textContent = `v${data.version}`;
                    
                    document.getElementById('stat-users').textContent = data.statistics.active_users.toLocaleString();
                    document.getElementById('stat-frames').textContent = data.statistics.public_frames.toLocaleString();
                    document.getElementById('stat-photos').textContent = data.statistics.total_photos.toLocaleString();
                    document.getElementById('stat-uptime').textContent = data.uptime.formatted;

                    document.getElementById('footer-info').innerHTML = `
                        Environment: <strong>${data.environment}</strong> | 
                        Database: <strong>${data.database.status}</strong> | 
                        Response Time: <strong>${data.performance.response_time_ms}ms</strong>
                    `;
                } else {
                    throw new Error('Health check failed');
                }
            } catch (error) {
                console.error('Failed to load server health:', error);
                
                const statusBadge = document.getElementById('status-badge');
                statusBadge.textContent = 'Status: Error';
                statusBadge.className = 'status-badge status-loading';
                
                document.getElementById('version').textContent = 'Unknown';
                document.getElementById('footer-info').textContent = 'Unable to fetch server information';
                
                ['stat-users', 'stat-frames', 'stat-photos', 'stat-uptime'].forEach(id => {
                    document.getElementById(id).textContent = '-';
                });
            }
        }

        document.addEventListener('DOMContentLoaded', loadServerHealth);

        setInterval(loadServerHealth, 30000);
    </script>
</body>
</html>